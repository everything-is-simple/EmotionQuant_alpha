# EmotionQuant 技术债登记表（Spiral 版）

**最后更新**: 2026-02-14  
**版本**: v1.1  
**范围**: S0-S6

---

## 分级标准

| 优先级 | 定义 | 处理时限 |
|---|---|---|
| P0 | 阻断实现或造成错误决策 | 立即 |
| P1 | 影响核心闭环质量 | 当圈或下一圈 |
| P2 | 影响效率/可维护性 | 2-3 圈内 |
| P3 | 优化项 | 视资源安排 |

---

## 当前债务清单

| ID | 问题 | 优先级 | 影响 | 计划处理圈 | 状态 |
|---|---|---|---|---|---|
| TD-S0-001 | 尚未形成 S0 可运行最小闭环（命令+测试+产物） | P1 | 无法进入后续 Spiral | S0 | ⏳ 待处理 |
| TD-S0-002 | 因子验证模块仅设计未实现 | P1 | 无法验证因子有效性 | S1 | ⏳ 待处理 |
| TD-S0-003 | 权重验证模块仅设计未实现 | P1 | 无法验证组合稳定性 | S2 | ⏳ 待处理 |
| TD-S0-004 | 回测基线实现未落地（仅选型文档） | P1 | S3 无法闭环 | S3 | ⏳ 待处理 |
| TD-S0-005 | 仓库内仍有部分 `Phase` 历史措辞（设计参考文档） | P2 | 容易带回线性心智 | S0-S2 | ⏳ 待处理 |

---

## 已清偿

| ID | 问题 | 完成时间 | 说明 |
|---|---|---|---|
| TD-GOV-008 | contracts/governance 检查未进入任务模板门禁 | 2026-02-14 | 已在 `SPIRAL-TASK-TEMPLATE.md` 增加 S2+/契约变更场景检查项 |
| TD-GOV-007 | 执行链路 `contract_version` 兼容口径缺失 | 2026-02-14 | 已统一为 `nc-v1` 并同步到 CP-05/06/07/10 与主控路线 |
| TD-GOV-006 | PAS 与执行层 `risk_reward_ratio` 门槛漂移 | 2026-02-14 | 已统一为执行门槛 `risk_reward_ratio >= 1.0`，`<1.0` 过滤 |
| TD-GOV-005 | Spiral 文档同步负担过重 | 2026-02-07 | 已改为最小同步 5 项，CP 文档仅在契约变化时更新 |
| TD-GOV-001 | 路线图缺少 I/O/边界/错误处理 | 2026-02-07 | 已在 ROADMAP 能力包中补齐 |
| TD-GOV-002 | “零技术指标”口径与实践冲突 | 2026-02-07 | 已修订为“单指标不得独立决策” |
| TD-GOV-003 | DuckDB 按年分库为默认策略 | 2026-02-07 | 已改为单库优先、阈值触发分库 |
| TD-GOV-004 | 回测引擎单选写死 | 2026-02-07 | 已改为接口优先、可替换实现 |

---

## 备注

- 技术债必须在每圈 `final.md` 中复核，禁止“静默积压”。
- P0/P1 债务必须给出明确圈号，不允许无限顺延。

---

## 版本历史

| 日期 | 版本 | 变更内容 |
|---|---|---|
| 2026-02-14 | v1.1 | 新增并清偿 TD-GOV-006/007/008（RR 门槛漂移、contract_version 兼容口径、contracts/governance 模板门禁） |
| 2026-02-07 | v1.0 | 切换到 Spiral 技术债模型，重建债务清单 |
